import*as Utils from"../utils.js";import TomSelect from"tom-select";import Api from"../api.js";const AdminUtilsFunctions={buildTomSelect(t,e,o,n,i){if(!t)return;const s={plugins:{remove_button:{title:"Remove this item"},dropdown_input:{}},onInitialize(){},onItemAdd(e){if(o){const s=Array.from(t.selectedOptions).map(t=>t.value);s.push(e),n.id_not_in=s.join(","),o("",n,i)}}};o&&(s.load=(e,s)=>{const c=Array.from(t.selectedOptions).map(t=>t.value);n.id_not_in=c.join(","),o(e,n,AdminUtilsFunctions.callBackTomSelectSearchAPI(s,i))});(e={...s,...e}).options;return new TomSelect(t,e)},callBackTomSelectSearchAPI:(t,e)=>({success:o=>{const n=e.success(o);t(n)}}),fetchCourses(t="",e={},o){const n=Api.admin.apiSearchCourses;e.search=t;const i={headers:{"Content-Type":"application/json","X-WP-Nonce":lpDataAdmin.nonce},method:"POST",body:JSON.stringify(e)};Utils.lpFetchAPI(n,i,o)},fetchUsers(t="",e={},o){const n=Api.admin.apiSearchUsers;e.search=t;const i={headers:{"Content-Type":"application/json","X-WP-Nonce":lpDataAdmin.nonce},method:"POST",body:JSON.stringify(e)};Utils.lpFetchAPI(n,i,o)}};export{Utils,AdminUtilsFunctions,Api};