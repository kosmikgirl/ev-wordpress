(()=>{"use strict";const e=window.React,t=window.wp.i18n,l=window.wp.components,r=window.wp.blockEditor,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"learnpress/list-courses","title":"Course Listing","category":"learnpress-category","description":"Course Listing block","textdomain":"learnpress","keywords":["listing course","learnpress","query loop"],"usesContext":[],"attributes":{"courseQuery":{"type":"object","default":{"limit":3,"order_by":"post_date","related":false,"pagination":false,"tag_id":"","term_id":""}}},"providesContext":{"lpCourseQuery":"courseQuery"},"supports":{"html":false,"align":["wide","full"]}}');(0,window.wp.blocks.registerBlockType)("learnpress/list-courses",{...a,edit:a=>{var o,n;const s=(0,r.useBlockProps)(),{attributes:i,setAttributes:u,clientId:c}=a,{courseQuery:p}=i,d=()=>{u({courseQuery:{...p,term_id:"",tag_id:""}})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:(0,t.__)("Query Settings","learnpress")},(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Posts per page"),value:p.limit,onChange:e=>u({courseQuery:{...p,limit:e}}),min:1,max:20}),(0,e.createElement)(l.ToggleControl,{label:(0,t.__)("Related Course","learnpress"),checked:p.related,onChange:e=>{u(e?{courseQuery:{...p,term_id:"",tag_id:"",pagination:!1,order_by:"post_date",related:e}}:{courseQuery:{...p,related:e}})}}),!p.related&&(0,e.createElement)(l.SelectControl,{label:(0,t.__)("Order by","learnpress"),value:p.order_by,options:[{label:"Newly published",value:"post_date"},{label:"Title a-z",value:"post_title"},{label:"Title z-a",value:"post_title_desc"},{label:"Price high to low",value:"price"},{label:"Price low to high",value:"price_low"},{label:"Popular",value:"popular"},{label:"Average Ratings",value:"rating"}],onChange:e=>{u({courseQuery:{...p,order_by:e}})}}),!p.related&&(0,e.createElement)(l.ToggleControl,{label:(0,t.__)("Pagination","learnpress"),checked:p.pagination,onChange:e=>{u({courseQuery:{...p,pagination:e}})}})),!p.related&&(0,e.createElement)(l.__experimentalToolsPanel,{label:(0,t.__)("Filter","learnpress"),resetAll:d},(0,e.createElement)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Taxonomy","learnpress"),onSelect:()=>d(),hasValue:()=>!!p.term_id||!!p.tag_id,onDeselect:()=>d()},(0,e.createElement)(l.TextControl,{label:(0,t.__)("Category","learnpress"),onChange:e=>{u({courseQuery:{...p,term_id:e}})},value:null!==(o=p.term_id)&&void 0!==o?o:""}),(0,e.createElement)(l.TextControl,{label:(0,t.__)("Tag","learnpress"),onChange:e=>{u({courseQuery:{...p,tag_id:e}})},value:null!==(n=p.tag_id)&&void 0!==n?n:""})))),(0,e.createElement)("div",{...s},(0,e.createElement)(r.InnerBlocks,{template:[["learnpress/course-item-template"]]})))},save:t=>{const l=r.useBlockProps.save();return(0,e.createElement)("div",{...l},(0,e.createElement)(r.InnerBlocks.Content,null))}})})();