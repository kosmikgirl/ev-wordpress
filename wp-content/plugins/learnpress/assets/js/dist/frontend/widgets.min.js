(()=>{"use strict";const e="lp-hidden",a=(a,t=0)=>{a&&(t?a.classList.remove(e):a.classList.add(e))},t={};let s;"undefined"!=typeof lpDataAdmin&&(s=lpDataAdmin.lp_rest_url,t.admin={apiAdminNotice:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/admin-notices",apiAdminOrderStatic:lpDataAdmin.lp_rest_url+"lp/v1/orders/statistic",apiAddons:lpDataAdmin.lp_rest_url+"lp/v1/addon/all",apiAddonAction:lpDataAdmin.lp_rest_url+"lp/v1/addon/action-n",apiAddonsPurchase:lpDataAdmin.lp_rest_url+"lp/v1/addon/info-addons-purchase",apiSearchCourses:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/search-course",apiSearchUsers:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/search-user",apiAssignUserCourse:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/assign-user-course",apiUnAssignUserCourse:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/unassign-user-course"}),"undefined"!=typeof lpData&&(s=lpData.lp_rest_url,t.frontend={apiWidgets:lpData.lp_rest_url+"lp/v1/widgets/api",apiCourses:lpData.lp_rest_url+"lp/v1/courses/archive-course",apiAJAX:lpData.lp_rest_url+"lp/v1/load_content_via_ajax/",apiProfileCoverImage:lpData.lp_rest_url+"lp/v1/profile/cover-image"}),s&&(t.apiAJAX=s+"lp/v1/load_content_via_ajax/",t.apiCourses=s+"lp/v1/courses/");const r=t;function l(){const e=document.querySelectorAll(".learnpress-widget-wrapper:not(.loaded)");if(!e.length)return;e.forEach((e=>{e.classList.add("loaded"),e.classList.contains("learnpress-widget-wrapper__restapi")&&(e=>{const t=lpData.urlParams.lang?`?lang=${lpData.urlParams.lang}`:"",s=e.dataset.widget?JSON.parse(e.dataset.widget):"",l=r.frontend.apiWidgets+t,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,params_url:lpData.urlParams})};0!==parseInt(lpData.user_id)&&(n.headers["X-WP-Nonce"]=lpData.nonce),((e,a={},t={})=>{"function"==typeof t.before&&t.before(),fetch(e,{method:"GET",...a}).then((e=>e.json())).then((e=>{"function"==typeof t.success&&t.success(e)})).catch((e=>{"function"==typeof t.error&&t.error(e)})).finally((()=>{"function"==typeof t.completed&&t.completed()}))})(l,n,{before:()=>{},success:t=>{const{data:s,status:r,message:l}=t;s&&"success"===r?e.insertAdjacentHTML("afterbegin",s):l&&e.insertAdjacentHTML("afterbegin",`<div class="lp-ajax-message error" style="display:block">${l}</div>`);const n=e.querySelector(".course-filter-submit.lp-btn-done");n&&(window.outerWidth<=991?a(n,1):a(n,0))},error:e=>{},completed:()=>{const a=e.querySelector(".lp-skeleton-animation");a&&a.remove();const t=document.querySelector(".lp-form-course-filter");t&&window.lpCourseFilter.countFieldsSelected(t)}})})(e)}))}l(),document.addEventListener("readystatechange",(e=>{l()})),document.addEventListener("DOMContentLoaded",(()=>{l()}))})();